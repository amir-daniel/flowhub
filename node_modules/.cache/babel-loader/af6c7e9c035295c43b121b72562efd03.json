{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\97252\\\\Documents\\\\Projects\\\\river\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{clear}from\"@testing-library/user-event/dist/clear\";import{useState,useEffect,useRef}from\"react\";import\"./BufferElement.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BufferElement=function BufferElement(props){var _useState=useState(props.isActive),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var isFirstRender=useRef(true);useEffect(function(){var cleaningTimer;if(props.isInitializing.current===false&&isFirstRender.current===true){// don't show loading screen on first initialization\nisFirstRender.current=false;return props.timeDisplay;}else if(props.isInitializing.current===true){return props.timeDisplay;}if(props.isActive===false){setMessage(/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"svg\",{class:\"checkmark\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 52 52\",children:[/*#__PURE__*/_jsx(\"circle\",{class:\"checkmark__circle\",cx:\"26\",cy:\"26\",r:\"25\",fill:\"none\"}),/*#__PURE__*/_jsx(\"path\",{class:\"checkmark__check\",fill:\"none\",d:\"M14.1 27.2l7.1 7.2 16.7-16.8\"})]})}));cleaningTimer=setTimeout(function(){setMessage(props.timeDisplay);},2000);}else{setMessage(/*#__PURE__*/_jsxs(\"div\",{className:\"lds-roller\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}));}return function(){clearTimeout(cleaningTimer);};},[props.isActive,props.isInitializing.current]);return message;};export default BufferElement;","map":{"version":3,"sources":["C:/Users/97252/Documents/Projects/river/src/components/BufferElement.js"],"names":["clear","useState","useEffect","useRef","BufferElement","props","isActive","message","setMessage","isFirstRender","cleaningTimer","isInitializing","current","timeDisplay","setTimeout","clearTimeout"],"mappings":"wIAAA,OAASA,KAAT,KAAsB,wCAAtB,CACA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,MAA9B,KAA4C,OAA5C,CACA,MAAO,qBAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/B,cAA4BJ,QAAQ,CAACI,KAAK,CAACC,QAAP,CAApC,wCAAKC,OAAL,eAAcC,UAAd,eACA,GAAIC,CAAAA,aAAa,CAAGN,MAAM,CAAC,IAAD,CAA1B,CAEAD,SAAS,CAAC,UAAM,CACd,GAAIQ,CAAAA,aAAJ,CACA,GACEL,KAAK,CAACM,cAAN,CAAqBC,OAArB,GAAiC,KAAjC,EACAH,aAAa,CAACG,OAAd,GAA0B,IAF5B,CAGE,CACA;AACAH,aAAa,CAACG,OAAd,CAAwB,KAAxB,CACA,MAAOP,CAAAA,KAAK,CAACQ,WAAb,CACD,CAPD,IAOO,IAAIR,KAAK,CAACM,cAAN,CAAqBC,OAArB,GAAiC,IAArC,CAA2C,CAChD,MAAOP,CAAAA,KAAK,CAACQ,WAAb,CACD,CACD,GAAIR,KAAK,CAACC,QAAN,GAAmB,KAAvB,CAA8B,CAC5BE,UAAU,cACR,kCACE,aACE,KAAK,CAAC,WADR,CAEE,KAAK,CAAC,4BAFR,CAGE,OAAO,CAAC,WAHV,wBAKE,eACE,KAAK,CAAC,mBADR,CAEE,EAAE,CAAC,IAFL,CAGE,EAAE,CAAC,IAHL,CAIE,CAAC,CAAC,IAJJ,CAKE,IAAI,CAAC,MALP,EALF,cAYE,aACE,KAAK,CAAC,kBADR,CAEE,IAAI,CAAC,MAFP,CAGE,CAAC,CAAC,8BAHJ,EAZF,GADF,EADQ,CAAV,CAsBAE,aAAa,CAAGI,UAAU,CAAC,UAAM,CAC/BN,UAAU,CAACH,KAAK,CAACQ,WAAP,CAAV,CACD,CAFyB,CAEvB,IAFuB,CAA1B,CAGD,CA1BD,IA0BO,CACLL,UAAU,cACR,aAAK,SAAS,CAAC,YAAf,wBACE,cADF,cAEE,cAFF,cAGE,cAHF,cAIE,cAJF,cAKE,cALF,cAME,cANF,cAOE,cAPF,cAQE,cARF,GADQ,CAAV,CAYD,CACD,MAAO,WAAM,CACXO,YAAY,CAACL,aAAD,CAAZ,CACD,CAFD,CAGD,CAvDQ,CAuDN,CAACL,KAAK,CAACC,QAAP,CAAiBD,KAAK,CAACM,cAAN,CAAqBC,OAAtC,CAvDM,CAAT,CAwDA,MAAOL,CAAAA,OAAP,CACD,CA7DD,CA+DA,cAAeH,CAAAA,aAAf","sourcesContent":["import { clear } from \"@testing-library/user-event/dist/clear\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport \"./BufferElement.css\";\r\n\r\nconst BufferElement = (props) => {\r\n  let [message, setMessage] = useState(props.isActive);\r\n  let isFirstRender = useRef(true);\r\n\r\n  useEffect(() => {\r\n    let cleaningTimer;\r\n    if (\r\n      props.isInitializing.current === false &&\r\n      isFirstRender.current === true\r\n    ) {\r\n      // don't show loading screen on first initialization\r\n      isFirstRender.current = false;\r\n      return props.timeDisplay;\r\n    } else if (props.isInitializing.current === true) {\r\n      return props.timeDisplay;\r\n    }\r\n    if (props.isActive === false) {\r\n      setMessage(\r\n        <div>\r\n          <svg\r\n            class=\"checkmark\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 52 52\"\r\n          >\r\n            <circle\r\n              class=\"checkmark__circle\"\r\n              cx=\"26\"\r\n              cy=\"26\"\r\n              r=\"25\"\r\n              fill=\"none\"\r\n            />\r\n            <path\r\n              class=\"checkmark__check\"\r\n              fill=\"none\"\r\n              d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      );\r\n      cleaningTimer = setTimeout(() => {\r\n        setMessage(props.timeDisplay);\r\n      }, 2000);\r\n    } else {\r\n      setMessage(\r\n        <div className=\"lds-roller\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      );\r\n    }\r\n    return () => {\r\n      clearTimeout(cleaningTimer);\r\n    };\r\n  }, [props.isActive, props.isInitializing.current]);\r\n  return message;\r\n};\r\n\r\nexport default BufferElement;\r\n"]},"metadata":{},"sourceType":"module"}