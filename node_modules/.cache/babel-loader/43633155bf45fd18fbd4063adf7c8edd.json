{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport react from \"react\";\nimport { useState } from \"react\";\n\nconst AnimatedCounter = props => {\n  _s();\n\n  const [oldValue, setOldValue] = useState(0); //useState(props.value);\n\n  const [incrementSize, setIncrementSize] = useState(0);\n  const [timerID, setTimerID] = useState(false);\n  const delayInSeconds = 2;\n  const refreshPerSecond = 25;\n\n  const sign = number => number < 0 ? -1 : 1;\n\n  const executeTick = (oldVal, incSize) => {\n    setOldValue(oldVal + incSize); // alert(incrementSize);\n\n    if ((+oldVal + incSize) * sign(incSize) >= +props.value * sign(incSize)) {\n      // we've finished incrementing, let's reset incrementSize\n      clearTimeout(timerID);\n      setTimerID(false);\n      setOldValue(props.value);\n    } else {\n      setTimerID(setTimeout(() => executeTick(oldVal + incSize, incSize), 1000 * (1 / refreshPerSecond)));\n    }\n  };\n\n  if (+oldValue !== +props.value && !timerID) {\n    // we get new value, set up increment\n    let tempInc = (+props.value - +oldValue) / (delayInSeconds * refreshPerSecond);\n    setTimerID(setTimeout(() => executeTick(oldValue + tempInc, tempInc), 1000 * (1 / refreshPerSecond)));\n    return oldValue + tempInc;\n  }\n\n  return Math.floor(oldValue);\n};\n\n_s(AnimatedCounter, \"ee7YzNH/GvarXiQicnzX5/49Y2E=\");\n\n_c = AnimatedCounter;\nexport default AnimatedCounter;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnimatedCounter\");","map":{"version":3,"sources":["C:/Users/97252/Documents/Projects/river/src/components/AnimatedCounter.js"],"names":["react","useState","AnimatedCounter","props","oldValue","setOldValue","incrementSize","setIncrementSize","timerID","setTimerID","delayInSeconds","refreshPerSecond","sign","number","executeTick","oldVal","incSize","value","clearTimeout","setTimeout","tempInc","Math","floor"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAA;;AACjC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,CAAD,CAAxC,CADiC,CACY;;AAC7C,QAAM,CAACK,aAAD,EAAgBC,gBAAhB,IAAoCN,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAMS,cAAc,GAAG,CAAvB;AACA,QAAMC,gBAAgB,GAAG,EAAzB;;AACA,QAAMC,IAAI,GAAIC,MAAD,IAAaA,MAAM,GAAG,CAAT,GAAa,CAAC,CAAd,GAAkB,CAA5C;;AAEA,QAAMC,WAAW,GAAG,CAACC,MAAD,EAASC,OAAT,KAAqB;AACvCX,IAAAA,WAAW,CAACU,MAAM,GAAGC,OAAV,CAAX,CADuC,CAEvC;;AACA,QAAI,CAAC,CAACD,MAAD,GAAUC,OAAX,IAAsBJ,IAAI,CAACI,OAAD,CAA1B,IAAuC,CAACb,KAAK,CAACc,KAAP,GAAeL,IAAI,CAACI,OAAD,CAA9D,EAAyE;AACvE;AACAE,MAAAA,YAAY,CAACV,OAAD,CAAZ;AACAC,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAJ,MAAAA,WAAW,CAACF,KAAK,CAACc,KAAP,CAAX;AACD,KALD,MAKO;AACLR,MAAAA,UAAU,CACRU,UAAU,CACR,MAAML,WAAW,CAACC,MAAM,GAAGC,OAAV,EAAmBA,OAAnB,CADT,EAER,QAAQ,IAAIL,gBAAZ,CAFQ,CADF,CAAV;AAMD;AACF,GAhBD;;AAkBA,MAAI,CAACP,QAAD,KAAc,CAACD,KAAK,CAACc,KAArB,IAA8B,CAACT,OAAnC,EAA4C;AAC1C;AACA,QAAIY,OAAO,GACT,CAAC,CAACjB,KAAK,CAACc,KAAP,GAAe,CAACb,QAAjB,KAA8BM,cAAc,GAAGC,gBAA/C,CADF;AAEAF,IAAAA,UAAU,CACRU,UAAU,CACR,MAAML,WAAW,CAACV,QAAQ,GAAGgB,OAAZ,EAAqBA,OAArB,CADT,EAER,QAAQ,IAAIT,gBAAZ,CAFQ,CADF,CAAV;AAMA,WAAOP,QAAQ,GAAGgB,OAAlB;AACD;;AAED,SAAOC,IAAI,CAACC,KAAL,CAAWlB,QAAX,CAAP;AACD,CAzCD;;GAAMF,e;;KAAAA,e;AA2CN,eAAeA,eAAf","sourcesContent":["import react from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst AnimatedCounter = (props) => {\r\n  const [oldValue, setOldValue] = useState(0); //useState(props.value);\r\n  const [incrementSize, setIncrementSize] = useState(0);\r\n  const [timerID, setTimerID] = useState(false);\r\n\r\n  const delayInSeconds = 2;\r\n  const refreshPerSecond = 25;\r\n  const sign = (number) => (number < 0 ? -1 : 1);\r\n\r\n  const executeTick = (oldVal, incSize) => {\r\n    setOldValue(oldVal + incSize);\r\n    // alert(incrementSize);\r\n    if ((+oldVal + incSize) * sign(incSize) >= +props.value * sign(incSize)) {\r\n      // we've finished incrementing, let's reset incrementSize\r\n      clearTimeout(timerID);\r\n      setTimerID(false);\r\n      setOldValue(props.value);\r\n    } else {\r\n      setTimerID(\r\n        setTimeout(\r\n          () => executeTick(oldVal + incSize, incSize),\r\n          1000 * (1 / refreshPerSecond)\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  if (+oldValue !== +props.value && !timerID) {\r\n    // we get new value, set up increment\r\n    let tempInc =\r\n      (+props.value - +oldValue) / (delayInSeconds * refreshPerSecond);\r\n    setTimerID(\r\n      setTimeout(\r\n        () => executeTick(oldValue + tempInc, tempInc),\r\n        1000 * (1 / refreshPerSecond)\r\n      )\r\n    );\r\n    return oldValue + tempInc;\r\n  }\r\n\r\n  return Math.floor(oldValue);\r\n};\r\n\r\nexport default AnimatedCounter;\r\n"]},"metadata":{},"sourceType":"module"}