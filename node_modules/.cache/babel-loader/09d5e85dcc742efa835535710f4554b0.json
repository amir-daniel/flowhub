{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\97252\\\\Documents\\\\Projects\\\\river\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";/*global chrome*/import\"./App.css\";import NumberInput from\"./components/NumberInput\";import{useState,useEffect,useRef,useReducer}from\"react\";import{act}from\"react-dom/cjs/react-dom-test-utils.production.min\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// ETA Mode (Forward Looking),\n// Sequential Mode (Time Elapsed)\ndataReducer=function dataReducer(state,action){if(action.type===\"USER_INITIALIZE\"){return{start:action.start,current:action.current,end:action.end,time:action.time,total:action.total};}else if(action.type===\"USER_ADDTIME\"){return{start:state.start,current:state.current,end:state.end,time:state.time+action.time,total:state.total};}};var _useReducer=useReducer(dataReducer,{start:null,current:null,end:null,time:null,total:null}),_useReducer2=_slicedToArray(_useReducer,2),dataState=_useReducer2[0],dataDispatch=_useReducer2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),getUserName=_useState2[0],setUserName=_useState2[1];useEffect(function(){// initialize some variables from chrome storage\nchrome.storage.sync.get([\"startedRecordingAt\",\"savedTime\",\"start\",\"progress\",\"end\",\"userName\",\"totalSeconds\"],function(data){dataDispatch({type:\"USER_INITIALIZE\",time:data.startedRecordingAt===null// check if a recording is in progress\n?data.savedTime===null?0:data.savedTime:(Date.now()-data.startedRecordingAt)/1000,start:data.start,current:data.progress,end:data.end,total:data.totalSeconds});setUserName(data.userName);});},[]);var timeAddHandler=function timeAddHandler(){if(getTimersID.current!==false){alert(\"Can't proceed while timer is active.\");return;}var x=prompt(\"Enter amount of time to load in the following format: h:mm:ss\");var timeArr=x.split(\":\").reverse();if(timeArr.length!==3){alert(\"Invalid input! Too many or too few fields were input.\");return;}if(!Number.isInteger(+timeArr[0])||!Number.isInteger(+timeArr[1])||!Number.isInteger(+timeArr[2])){alert(\"Invalid input! All fields must be integers.\");return;}//All checks passed, now we're diving in to the addition.\nvar desiredTimeInSeconds=+timeArr[0]+ +timeArr[1]*60+ +timeArr[2]*3600;chrome.storage.sync.set({savedTime:desiredTimeInSeconds+dataDispatch({type:\"USER_ADDTIME\",time:desiredTimeInSeconds}).time});};var nameChangeHandler=function nameChangeHandler(){var _prompt;var newUserName=(_prompt=prompt(\"Please choose your nickname:\"))===null||_prompt===void 0?void 0:_prompt.trim();setUserName(newUserName.length===0?getUserName:newUserName);chrome.storage.sync.set({userName:newUserName.length===0?getUserName:newUserName});};return/*#__PURE__*/_jsxs(\"div\",{id:\"popup-container\",className:\"Card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Card-header\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:nameChangeHandler,className:\"headline\",children:/*#__PURE__*/_jsx(\"b\",{children:getUserName})}),/*#__PURE__*/_jsx(\"a\",{onClick:timeAddHandler,className:\"mode\",children:\"Import Time\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Card-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats seperated datasection\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Stats\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"You have in total \",/*#__PURE__*/_jsx(\"b\",{children:Math.round(dataState.total/3600)}),\" \",\"recorded hours.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"initialize-data seperated datasection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Start\"}),/*#__PURE__*/_jsx(NumberInput,{className:\"data-input\",placeholder:\"0\",onChange:minHandler,value:dataState.start})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Progress\"}),/*#__PURE__*/_jsx(NumberInput,{className:\"data-input\",placeholder:\"0\",onChange:currentHandler,value:dataState.current})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Finish\"}),/*#__PURE__*/_jsx(NumberInput,{className:\"data-input\",placeholder:\"0\",onChange:maxHandler,value:dataState.end})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions datasection\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Record\"})]})]})]})]});}export default App;","map":{"version":3,"sources":["C:/Users/97252/Documents/Projects/river/src/App.js"],"names":["NumberInput","useState","useEffect","useRef","useReducer","act","App","dataReducer","state","action","type","start","current","end","time","total","dataState","dataDispatch","getUserName","setUserName","chrome","storage","sync","get","data","startedRecordingAt","savedTime","Date","now","progress","totalSeconds","userName","timeAddHandler","getTimersID","alert","x","prompt","timeArr","split","reverse","length","Number","isInteger","desiredTimeInSeconds","set","nameChangeHandler","newUserName","trim","Math","round","minHandler","currentHandler","maxHandler"],"mappings":"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","sourcesContent":["/*global chrome*/\r\nimport \"./App.css\";\r\nimport NumberInput from \"./components/NumberInput\";\r\nimport { useState, useEffect, useRef, useReducer } from \"react\";\r\nimport { act } from \"react-dom/cjs/react-dom-test-utils.production.min\";\r\n\r\nfunction App() {\r\n  // ETA Mode (Forward Looking),\r\n  // Sequential Mode (Time Elapsed)\r\n\r\n  dataReducer = (state, action) => {\r\n    if (action.type === \"USER_INITIALIZE\") {\r\n      return {\r\n        start: action.start,\r\n        current: action.current,\r\n        end: action.end,\r\n        time: action.time,\r\n        total: action.total,\r\n      };\r\n    } else if (action.type === \"USER_ADDTIME\") {\r\n      return {\r\n        start: state.start,\r\n        current: state.current,\r\n        end: state.end,\r\n        time: state.time + action.time,\r\n        total: state.total,\r\n      };\r\n    }\r\n  };\r\n\r\n  let [dataState, dataDispatch] = useReducer(dataReducer, {\r\n    start: null,\r\n    current: null,\r\n    end: null,\r\n    time: null,\r\n    total: null,\r\n  });\r\n\r\n  let [getUserName, setUserName] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // initialize some variables from chrome storage\r\n    chrome.storage.sync.get(\r\n      [\r\n        \"startedRecordingAt\",\r\n        \"savedTime\",\r\n        \"start\",\r\n        \"progress\",\r\n        \"end\",\r\n        \"userName\",\r\n        \"totalSeconds\",\r\n      ],\r\n      (data) => {\r\n        dataDispatch({\r\n          type: \"USER_INITIALIZE\",\r\n          time:\r\n            data.startedRecordingAt === null // check if a recording is in progress\r\n              ? data.savedTime === null\r\n                ? 0\r\n                : data.savedTime\r\n              : (Date.now() - data.startedRecordingAt) / 1000,\r\n          start: data.start,\r\n          current: data.progress,\r\n          end: data.end,\r\n          total: data.totalSeconds,\r\n        });\r\n        setUserName(data.userName);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  const timeAddHandler = () => {\r\n    if (getTimersID.current !== false) {\r\n      alert(\"Can't proceed while timer is active.\");\r\n      return;\r\n    }\r\n\r\n    let x = prompt(\r\n      \"Enter amount of time to load in the following format: h:mm:ss\"\r\n    );\r\n\r\n    let timeArr = x.split(\":\").reverse();\r\n\r\n    if (timeArr.length !== 3) {\r\n      alert(\"Invalid input! Too many or too few fields were input.\");\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !Number.isInteger(+timeArr[0]) ||\r\n      !Number.isInteger(+timeArr[1]) ||\r\n      !Number.isInteger(+timeArr[2])\r\n    ) {\r\n      alert(\"Invalid input! All fields must be integers.\");\r\n      return;\r\n    }\r\n\r\n    //All checks passed, now we're diving in to the addition.\r\n    let desiredTimeInSeconds =\r\n      +timeArr[0] + +timeArr[1] * 60 + +timeArr[2] * 3600;\r\n\r\n    chrome.storage.sync.set({\r\n      savedTime:\r\n        desiredTimeInSeconds +\r\n        dataDispatch({ type: \"USER_ADDTIME\", time: desiredTimeInSeconds }).time,\r\n    });\r\n  };\r\n\r\n  const nameChangeHandler = () => {\r\n    let newUserName = prompt(\"Please choose your nickname:\")?.trim();\r\n    setUserName(newUserName.length === 0 ? getUserName : newUserName);\r\n    chrome.storage.sync.set({\r\n      userName: newUserName.length === 0 ? getUserName : newUserName,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div id=\"popup-container\" className=\"Card\">\r\n      <div className=\"Card-header\">\r\n        <a onClick={nameChangeHandler} className=\"headline\">\r\n          <b>{getUserName}</b>\r\n        </a>\r\n        <a onClick={timeAddHandler} className=\"mode\">\r\n          Import Time\r\n        </a>\r\n      </div>\r\n\r\n      <div className=\"Card-layout\">\r\n        <div className=\"stats seperated datasection\">\r\n          <div>Stats</div>\r\n          <div>\r\n            You have in total <b>{Math.round(dataState.total / 3600)}</b>{\" \"}\r\n            recorded hours.\r\n          </div>\r\n        </div>\r\n        <div className=\"initialize-data seperated datasection\">\r\n          <div className=\"data-row\">\r\n            <div>Start</div>\r\n            <NumberInput\r\n              className=\"data-input\"\r\n              placeholder=\"0\"\r\n              onChange={minHandler}\r\n              value={dataState.start}\r\n            />\r\n          </div>\r\n          <div className=\"data-row\">\r\n            <div>Progress</div>\r\n            <NumberInput\r\n              className=\"data-input\"\r\n              placeholder=\"0\"\r\n              onChange={currentHandler}\r\n              value={dataState.current}\r\n            />\r\n          </div>\r\n          <div className=\"data-row\">\r\n            <div>Finish</div>\r\n            <NumberInput\r\n              className=\"data-input\"\r\n              placeholder=\"0\"\r\n              onChange={maxHandler}\r\n              value={dataState.end}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"actions datasection\">\r\n          <div>Actions</div>\r\n          <div className=\"buttons-container\">\r\n            <button>Reset</button>\r\n            <button>Record</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}